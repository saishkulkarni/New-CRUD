<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Main</title>
</head>
<body>

	<div th:if="${success!=null||failure!=null}">
		<h3 style="color: green" th:text="${success}"></h3>
		<h3 style="color: red" th:text="${failure}"></h3><br><br>
	</div>

	<div th:if="${session.user==null}">
		<a href="/signup"><button>Signup</button></a> <a href="/login"><button>Login</button></a>
<br><br>
		<div th:if="${signup}">
			<form action="/signup" method="post" th:object="${myUser}">
				<input type="text" name="name" placeholder="Enter Name"
					th:field="*{name}"> <span th:errors="*{name}"></span> <br>
				<br> <input type="text" name="email" placeholder="Enter Email"
					th:field="*{email}"> <span th:errors="*{email}"></span> <br>
				<br> <input type="password" name="password"
					placeholder="Enter Password" th:field="*{password}"> <span
					th:errors="*{password}"></span> <br> <br>
				<button>Signup</button>
			</form>
		</div>

		<div th:if="${otp}">
			<form action="/verify-otp" method="post">
				<input type="hidden" name="id" th:value="${id}"> Enter Otp :
				<input type="number" name="otp" id="otp">
				<button>Submit</button>
			</form>
		</div>

		<div th:if="${login}">
			<form action="/login" method="post">
				Email: <input type="email" name="email"> Password: <input
					type="password" name="password">
				<button>Login</button>
			</form>
		</div>


	</div>


	<div th:if="${session.user}">

		<div th:if="${fetch}">
			<table border="1">
				<tr>
					<th>Name</th>
					<th>Picture</th>
					<th>Mobile</th>
					<th>Date of Birth</th>
					<th>Standard</th>
					<th>Subject1</th>
					<th>Subject2</th>
					<th>Subject3</th>
					<th>Subject4</th>
					<th>Subject5</th>
					<th>Subject6</th>
					<th>Percenatge</th>
					<th>Edit</th>
					<th>Delete</th>
				</tr>
				<tr th:each="s:${list}">
					<td th:text="${s.name}"></td>
					<td><img th:src="${s.picture}" alt="alt" height="100px"
						width="100px" /></td>
					<td th:text="${s.mobile}"></td>
					<td th:text="${s.dob}"></td>
					<td th:text="${s.standard}"></td>
					<td th:text="${s.subject1}"></td>
					<td th:text="${s.subject2}"></td>
					<td th:text="${s.subject3}"></td>
					<td th:text="${s.subject4}"></td>
					<td th:text="${s.subject5}"></td>
					<td th:text="${s.subject6}"></td>
					<td th:text="${s.percentage}"></td>
					<td><a th:href="'/edit/'+${s.id}"><button>Edit</button></a></td>
					<td><a th:href="'/delete/'+${s.id}"><button>Delete</button></a>
					</td>
				</tr>
			</table>
		</div>


		<a href="/insert"><button>Insert Record</button></a> <a href="/logout"><button>Logout</button></a>

		<div th:if="${insert}">
			<form action="/insert" method="post" enctype="multipart/form-data">
				Name: <input type="text" name="name" placeholder="Enter Name" />
				Standard: <input type="text" name="standard"
					placeholder="Enter Standard" /> Date of Birth: <input type="date"
					name="dob" placeholder="Enter Date of Birth" /> Mobile Number: <input
					type="text" name="mobile" placeholder="Enter Mobile Number" />
				Marks: Subject 1: <input type="number" name="subject1"
					placeholder="Enter Subject 1 Marks" /> Subject 2: <input
					type="number" name="subject2" placeholder="Enter Subject 2 Marks" />
				Subject 3: <input type="number" name="subject3"
					placeholder="Enter Subject 3 Marks" /> Subject 4: <input
					type="number" name="subject4" placeholder="Enter Subject 4 Marks" />
				Subject 5: <input type="number" name="subject5"
					placeholder="Enter Subject 5 Marks" /> Subject 6: <input
					type="number" name="subject6" placeholder="Enter Subject 6 Marks" />

				Picture : <input type="file" name="image" />

				<button>Add</button>
			</form>
		</div>

		<div th:if="${update}">
			<form action="/update" method="post" enctype="multipart/form-data">
				<input type="hidden" name="id" th:value="${student.id}">
				Name: <input type="text" name="name" placeholder="Enter Name"
					th:value="${student.name}" /> Standard: <input type="text"
					name="standard" placeholder="Enter Standard"
					th:value="${student.standard}" /> Date of Birth: <input
					type="date" name="dob" placeholder="Enter Date of Birth"
					th:value="${student.dob}" /> Mobile Number: <input type="text"
					name="mobile" placeholder="Enter Mobile Number"
					th:value="${student.mobile}" /> Marks: Subject 1: <input
					type="number" name="subject1" placeholder="Enter Subject 1 Marks"
					th:value="${student.subject1}" /> Subject 2: <input
					type="number" name="subject2" placeholder="Enter Subject 2 Marks"
					th:value="${student.subject2}" /> Subject 3: <input
					type="number" name="subject3" placeholder="Enter Subject 3 Marks"
					th:value="${student.subject3}" /> Subject 4: <input
					type="number" name="subject4" placeholder="Enter Subject 4 Marks"
					th:value="${student.subject4}" /> Subject 5: <input
					type="number" name="subject5" placeholder="Enter Subject 5 Marks"
					th:value="${student.subject5}" /> Subject 6: <input
					type="number" name="subject6" placeholder="Enter Subject 6 Marks"
					th:value="${student.subject6}" /> Picture : <input
					type="file" name="image" /> <img th:src="${student.picture}"
					alt="alt" height="50px" width="50px" />
				<button>Update</button>
			</form>
		</div>
	</div>


</body>
</html>